(function() {
var h=void 0,i=!0,t=null,C=!1;function U(){return function(){}}
(function(){function qb(){function a(){if(!a.cd)Ka=a.cd=i,La=C,c.a(J,function(a){a.Kc()})}function b(){try{v.documentElement.doScroll("left")}catch(d){setTimeout(b,1);return}a()}if(v.addEventListener)"complete"===v.readyState?a():v.addEventListener("DOMContentLoaded",a,C);else if(v.attachEvent){v.attachEvent("onreadystatechange",a);var d=C;try{d=m.frameElement===t}catch(k){}v.documentElement.doScroll&&d&&b()}c.mc(m,"load",a,i)}function rb(){x.init=function(a,b,d){if(d)return x[d]||(x[d]=J[d]=ba(a,
b,d),x[d].ta()),x[d];d=x;if(J.mixpanel)d=J.mixpanel;else if(a)d=ba(a,b,"mixpanel"),d.ta(),J.mixpanel=d;x=d;1===sa&&(m.mixpanel=x);sb()}}function sb(){c.a(J,function(a,b){"mixpanel"!==b&&(x[b]=a)});x._=c}function ta(a){a=c.g(a)?a:c.e(a)?{}:{days:a};return c.extend({},tb,a)}function ba(a,b,d){var k,f="mixpanel"===d?x:x[d];if(f&&0===sa)k=f;else{if(f&&!c.isArray(f)){s.error("You have already initialized "+d);return}k=new e}k.Bb={};k.ea(a,b,d);k.people=new q;k.people.ea(k);if(!k.c("skip_first_touch_marketing")){var a=
c.info.fa(t),g={},j=C;c.a(a,function(a,b){(g["initial_"+b]=a)&&(j=i)});j&&k.people.U(g)}K=K||k.c("debug");!c.e(f)&&c.isArray(f)&&(k.Na.call(k.people,f.people),k.Na(f));return k}function e(){}function V(){}function ub(a){return a}function Ma(a){throw Error(a+" not available in this build.");}function o(a){this.props={};this.te=C;this.name=a.persistence_name?"mp_"+a.persistence_name:"mp_"+a.token+"_mixpanel";var b=a.persistence;if("cookie"!==b&&"localStorage"!==b)s.l("Unknown persistence type "+b+"; falling back to cookie"),
b=a.persistence="cookie";this.o="localStorage"===b&&c.localStorage.Fa()?c.localStorage:c.cookie;this.load();this.Fc(a);this.oe();this.save()}function q(){}function w(){}function F(a,b){this.R=b.R;this.ka=new H(a,{R:c.bind(this.h,this),A:b.A,wc:b.wc,u:b.u});this.I=b.I;this.Qd=b.Rd;this.ua=b.ua;this.ae=b.be;this.L=this.I.batch_size;this.Ba=this.I.batch_flush_interval_ms;this.na=!this.I.batch_autostart;this.Xa=0;this.P={};this.Ub=b.Ub||C}function Na(a,b){var d=[];c.a(a,function(a){var c=a.id;if(c in
b){if(c=b[c],c!==t)a.payload=c,d.push(a)}else d.push(a)});return d}function Oa(a,b){var d=[];c.a(a,function(a){a.id&&!b[a.id]&&d.push(a)});return d}function H(a,b){b=b||{};this.V=a;if(this.u=b.u)this.A=b.A||new W,this.kb=new Pa(a,{o:b.wc||window.localStorage}),this.A.D();this.h=b.R||c.bind(Qa.error,Qa);this.Ia=b.Ia||t;this.J=[];this.hb=C}function W(a){this.o=a||localStorage}function Pa(a,b){b=b||{};this.V=a;this.o=b.o||window.localStorage;this.jc=b.jc||100;this.zc=b.zc||2E3;this.kc=b.kc||y}function ca(){this.fc=
"submit"}function R(){this.fc="click"}function I(){}function E(a){this.z=a}function Ra(a){var b=vb,d=a.split("."),d=d[d.length-1];if(4<d.length||"com"===d||"org"===d)b=wb;return(a=a.match(b))?a[0]:""}function ua(a){var b=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return a?b.substring(0,a):b}function da(a,b){if(va!==t&&!b)return va;var d=i;try{var a=a||m.localStorage,c="__mplss_"+ua(8);a.setItem(c,"xyz");"xyz"!==a.getItem(c)&&(d=C);a.removeItem(c)}catch(f){d=
C}return va=d}function wa(a){return function(){try{return a.apply(this,arguments)}catch(b){s.l("Implementation error. Please turn on debug and contact support@mixpanel.com."),K&&s.l(b)}}}function ea(a){return{log:xa(s.log,a),error:xa(s.error,a),l:xa(s.l,a)}}function xa(a,b){return function(){arguments[0]="["+b+"] "+arguments[0];return a.apply(s,arguments)}}function fa(a,b){ya.add(a,b);za||(za=xb(ya.dd))}function Sa(a){var b,d=typeof a;if(a!==t&&("object"===d||"function"===d))b=a.then;return"function"===
typeof b?b:C}function Aa(){for(var a=0;a<this.H.length;a++){var b=1===this.state?this.H[a].de:this.H[a].ed,d=this.H[a],c=h,f=h;try{b===C?d.reject(this.ia):(c=b===i?this.ia:b.call(h,this.ia),c===d.nb?d.reject(TypeError("Promise-chain cycle")):(f=Sa(c))?f.call(c,d.resolve,d.reject):d.resolve(c))}catch(g){d.reject(g)}}this.H.length=0}function Ta(a){var b,d=this;if(!d.oa){d.oa=i;if(d.Aa)d=d.Aa;try{(b=Sa(a))?fa(function(){var c=new Ua(d);try{b.call(a,function(){Ta.apply(c,arguments)},function(){X.apply(c,
arguments)})}catch(k){X.call(c,k)}}):(d.ia=a,d.state=1,0<d.H.length&&fa(Aa,d))}catch(c){X.call(new Ua(d),c)}}}function X(a){var b=this;if(!b.oa){b.oa=i;if(b.Aa)b=b.Aa;b.ia=a;b.state=2;0<b.H.length&&fa(Aa,b)}}function Va(a,b,d,c){for(var f=0;f<b.length;f++)(function(f){a.resolve(b[f]).then(function(a){d(f,a)},c)})(f)}function Ua(a){this.Aa=a;this.oa=C}function yb(a){this.nb=a;this.state=0;this.oa=C;this.H=[];this.ia=h}function L(a){if("function"!==typeof a)throw TypeError("Not a function");if(0!==
this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new yb(this);this.then=function(a,d){var c={de:"function"===typeof a?a:i,ed:"function"===typeof d?d:C};c.nb=new this.constructor(function(a,b){if("function"!==typeof a||"function"!==typeof b)throw TypeError("Not a function");c.resolve=a;c.reject=b});b.H.push(c);0!==b.state&&fa(Aa,b);return c.nb};this["catch"]=function(a){return this.then(h,a)};try{a.call(h,function(a){Ta.call(b,a)},function(a){X.call(b,a)})}catch(d){X.call(b,d)}}function Ba(a){for(var b=
{},a=Wa(a).split(" "),d=0;d<a.length;d++){var c=a[d];c&&(b[c]=i)}return b}function Wa(a){switch(typeof a.className){case "string":return a.className;case "object":return a.className.se||a.getAttribute("class")||"";default:return""}}function zb(a){if(a.previousElementSibling)return a.previousElementSibling;do a=a.previousSibling;while(a&&!(a&&1===a.nodeType));return a}function Xa(a,b,d,k,f,g){var j={$classes:Wa(a).split(" "),$tag_name:a.tagName.toLowerCase()},p=a.id;p&&(j.$id=p);Ca(a,b,f,g)&&c.a(Ab.concat(k),
function(b){if(a.hasAttribute(b)&&!d[b]){var c=a.getAttribute(b);ga(c)&&(j["$attr-"+b]=c)}});k=b=1;for(f=a;f=zb(f);)b++,f.tagName===a.tagName&&k++;j.$nth_child=b;j.$nth_of_type=k;return j}function Bb(a,b){var d=b.Qc,k=b.Rc||[],f=b.Vc,g=b.Wc||[],j=b.Zc||C,p=b.Yc||[],e={};c.a(b.Uc||[],function(a){e[a]=i});var n=t,r="undefined"===typeof a.target?a.srcElement:a.target;if(r&&3===r.nodeType)r=r.parentNode;if(Cb(r,a)&&Da(r,a,d,k)&&!Ea(r,a,f,g)){for(var u=[r],A=r;A.parentNode&&!G(A,"body");)u.push(A.parentNode),
A=A.parentNode;var Ya=[],Y,q=C;c.a(u,function(b){var c=Ca(b,a,d,k);!e.href&&"a"===b.tagName.toLowerCase()&&(Y=b.getAttribute("href"),Y=c&&ga(Y)&&Y);Ea(b,a,f,g)&&(q=i);Ya.push(Xa(b,a,e,p,d,k))},this);if(!q){u=v.documentElement;n={$event_type:a.type,$host:m.location.host,$pathname:m.location.pathname,$elements:Ya,$el_attr__href:Y,$viewportHeight:Math.max(u.clientHeight,m.innerHeight||0),$viewportWidth:Math.max(u.clientWidth,m.innerWidth||0)};c.a(p,function(a){if(!e[a]&&r.hasAttribute(a)){var b=r.getAttribute(a);
ga(b)&&(n["$el_attr__"+a]=b)}});if(j)(u=Za(r,a,d,k))&&u.length&&(n.$el_text=u);a.type===Z&&(c.a(Db,function(b){b in a&&(n["$"+b]=a[b])}),r=Eb(a));if(j)(u=Za(r,a,d,k))&&u.length&&(n.$el_text=u);if(r){if(!Da(r,a,d,k)||Ea(r,a,f,g))return t;j=Xa(r,a,e,p,d,k);n.$target=j;n.$el_classes=j.$classes;c.extend(n,c.W({$el_id:j.$id,$el_tag_name:j.$tag_name}))}}}return n}function Za(a,b,d,k){var f="";Ca(a,b,d,k)&&a.childNodes&&a.childNodes.length&&c.a(a.childNodes,function(a){a&&3===a.nodeType&&a.textContent&&
(f+=c.trim(a.textContent).split(/(\s+)/).filter(ga).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))});return c.trim(f)}function Eb(a){for(var b=a.target,a=a.composedPath(),d=0;d<a.length;d++){var c=a[d];if(G(c,"a")||G(c,"button")||G(c,"input")||G(c,"select")||c.getAttribute&&"button"===c.getAttribute("role")){b=c;break}if(c===b)break}return b}function Da(a,b,d,c){if(d)try{if(!d(a,b))return C}catch(f){return D.l("Error while checking element in allowElementCallback",f),C}if(!c.length)return i;
for(b=0;b<c.length;b++){d=c[b];try{if(a.matches(d))return i}catch(g){D.l("Error while checking selector: "+d,g)}}return C}function Ea(a,b,d,c){if(d)try{if(d(a,b))return i}catch(f){return D.l("Error while checking element in blockElementCallback",f),i}if(c&&c.length)for(b=0;b<c.length;b++){d=c[b];try{if(a.matches(d))return i}catch(g){D.l("Error while checking selector: "+d,g)}}a=Ba(a);for(b=0;b<Fa.length;b++)if(a[Fa[b]])return i;return C}function G(a,b){return a&&a.tagName&&a.tagName.toLowerCase()===
b.toLowerCase()}function Cb(a,b){if(!a||G(a,"html")||!(a&&1===a.nodeType))return C;switch(a.tagName.toLowerCase()){case "form":return b.type===Ga;case "input":return-1===["button","submit"].indexOf(a.getAttribute("type"))?b.type===ha:b.type===Z;case "select":case "textarea":return b.type===ha;default:return b.type===Z}}function Ca(a,b,d,c){if(!Da(a,b,d,c))return C;for(d=a;d.parentNode&&!G(d,"body");d=d.parentNode){c=Ba(d);for(b=0;b<$a.length;b++)if(c[$a[b]])return C}d=Ba(a);for(b=0;b<ab.length;b++)if(d[ab[b]])return i;
if(G(a,"input")||G(a,"select")||G(a,"textarea")||"true"===a.getAttribute("contenteditable"))return C;b=a.type||"";if("string"===typeof b)switch(b.toLowerCase()){case "hidden":return C;case "password":return C}a=a.name||a.id||"";return"string"===typeof a&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(a.replace(/[^a-zA-Z0-9]/g,""))?C:i}function ga(a){if(a===t||c.e(a)||"string"===typeof a&&(a=c.trim(a),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((a||
"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(a)))return C;return i}function Fb(a,b){bb(i,a,b)}function Gb(a,b){bb(C,a,b)}function Hb(a,b){return"1"===ia(b).get(ja(a,b))}function cb(a,b){if(Ib(b))return s.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),i;var d="0"===ia(b).get(ja(a,b));d&&s.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data.");
return d}function P(a){return Ha(a,function(a){return this.c(a)})}function M(a){return Ha(a,function(a){return this.s(a)})}function S(a){return Ha(a,function(a){return this.s(a)})}function Jb(a,b){b=b||{};ia(b).remove(ja(a,b),!!b.Pb,b.Nb)}function ia(a){a=a||{};return"localStorage"===a.ic?c.localStorage:c.cookie}function ja(a,b){b=b||{};return(b.hc||Kb)+a}function Ib(a){if(a&&a.Yb)return C;var a=a&&a.window||m,b=a.navigator||{},d=C;c.a([b.doNotTrack,b.msDoNotTrack,a.doNotTrack],function(a){c.i([i,
1,"1","yes"],a)&&(d=i)});return d}function bb(a,b,d){!c.jb(b)||!b.length?s.error("gdpr."+(a?"optIn":"optOut")+" called with an invalid token"):(d=d||{},ia(d).set(ja(b,d),a?1:0,c.bc(d.Ob)?d.Ob:t,!!d.Pb,!!d.Pd,!!d.$c,d.Nb),d.p&&a&&d.p(d.he||"$opt_in",d.ie,{send_immediately:i}))}function Ha(a,b){return function(){var d=C;try{var c=b.call(this,"token"),f=b.call(this,"ignore_dnt"),g=b.call(this,"opt_out_tracking_persistence_type"),j=b.call(this,"opt_out_tracking_cookie_prefix"),p=b.call(this,"window");
c&&(d=cb(c,{Yb:f,ic:g,hc:j,window:p}))}catch(e){s.error("Unexpected error when checking tracking opt-out status: "+e)}if(!d)return a.apply(this,arguments);d=arguments[arguments.length-1];"function"===typeof d&&d(0)}}var K=C,m;if("undefined"===typeof window){var db={hostname:""};m={navigator:{userAgent:"",onLine:i},document:{createElement:function(){return{}},location:db,referrer:""},screen:{width:0,height:0},location:db,addEventListener:U(),removeEventListener:U()}}else m=window;var eb=m.setImmediate,
N,za,ya,fb=Object.prototype.toString,xb="undefined"!==typeof eb?function(a){return eb(a)}:setTimeout;try{Object.defineProperty({},"x",{}),N=function(a,b,d,c){return Object.defineProperty(a,b,{value:d,writable:i,configurable:c!==C})}}catch(Rb){N=function(a,b,d){a[b]=d;return a}}ya=function(){function a(a,b){this.gd=a;this.self=b;this.next=h}var b,d,c;return{add:function(f,g){c=new a(f,g);d?d.next=c:b=c;d=c;c=h},dd:function(){var a=b;for(b=d=za=h;a;)a.gd.call(a.self),a=a.next}}}();var gb=N({},"constructor",
L,C);L.prototype=gb;N(gb,"__NPO__",0,C);N(L,"resolve",function(a){return a&&"object"===typeof a&&1===a.__NPO__?a:new this(function(b,d){if("function"!==typeof b||"function"!==typeof d)throw TypeError("Not a function");b(a)})});N(L,"reject",function(a){return new this(function(b,d){if("function"!==typeof b||"function"!==typeof d)throw TypeError("Not a function");d(a)})});N(L,"all",function(a){var b=this;return"[object Array]"!==fb.call(a)?b.reject(TypeError("Not an array")):0===a.length?b.resolve([]):
new b(function(d,c){if("function"!==typeof d||"function"!==typeof c)throw TypeError("Not a function");var f=a.length,g=Array(f),j=0;Va(b,a,function(a,b){g[a]=b;++j===f&&d(g)},c)})});N(L,"race",function(a){var b=this;return"[object Array]"!==fb.call(a)?b.reject(TypeError("Not an array")):new b(function(d,c){if("function"!==typeof d||"function"!==typeof c)throw TypeError("Not a function");Va(b,a,function(a,b){d(b)},c)})});var y;y="undefined"!==typeof Promise&&-1!==Promise.toString().indexOf("[native code]")?
Promise:L;var ka=Array.prototype,hb=Object.prototype,Q=ka.slice,$=hb.toString,la=hb.hasOwnProperty,z=m.console,O=m.navigator,v=m.document,ma=m.opera,na=m.screen,B=O.userAgent,Ia=Function.prototype.bind,ib=ka.forEach,jb=ka.indexOf,kb=ka.map,Lb=Array.isArray,Ja={},c={trim:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},s={log:function(){if(K&&!c.e(z)&&z)try{z.log.apply(z,arguments)}catch(a){c.a(arguments,function(a){z.log(a)})}},warn:function(){if(K&&!c.e(z)&&z){var a=["Mixpanel warning:"].concat(c.X(arguments));
try{z.warn.apply(z,a)}catch(b){c.a(a,function(a){z.warn(a)})}}},error:function(){if(K&&!c.e(z)&&z){var a=["Mixpanel error:"].concat(c.X(arguments));try{z.error.apply(z,a)}catch(b){c.a(a,function(a){z.error(a)})}}},l:function(){if(!c.e(z)&&z){var a=["Mixpanel error:"].concat(c.X(arguments));try{z.error.apply(z,a)}catch(b){c.a(a,function(a){z.error(a)})}}}};c.bind=function(a,b){var d,k;if(Ia&&a.bind===Ia)return Ia.apply(a,Q.call(arguments,1));if(!c.ib(a))throw new TypeError;d=Q.call(arguments,2);return k=
function(){if(!(this instanceof k))return a.apply(b,d.concat(Q.call(arguments)));var c={};c.prototype=a.prototype;var g=new c;c.prototype=t;c=a.apply(g,d.concat(Q.call(arguments)));return Object(c)===c?c:g}};c.a=function(a,b,d){if(!(a===t||a===h))if(ib&&a.forEach===ib)a.forEach(b,d);else if(a.length===+a.length)for(var c=0,f=a.length;c<f&&!(c in a&&b.call(d,a[c],c,a)===Ja);c++);else for(c in a)if(la.call(a,c)&&b.call(d,a[c],c,a)===Ja)break};c.extend=function(a){c.a(Q.call(arguments,1),function(b){for(var d in b)b[d]!==
h&&(a[d]=b[d])});return a};c.isArray=Lb||function(a){return"[object Array]"===$.call(a)};c.ib=function(a){try{return/^\s*\bfunction\b/.test(a)}catch(b){return C}};c.vd=function(a){return!(!a||!la.call(a,"callee"))};c.X=function(a){return!a?[]:a.X?a.X():c.isArray(a)||c.vd(a)?Q.call(a):c.qe(a)};c.map=function(a,b,d){if(kb&&a.map===kb)return a.map(b,d);var k=[];c.a(a,function(a){k.push(b.call(d,a))});return k};c.keys=function(a){var b=[];if(a===t)return b;c.a(a,function(a,c){b[b.length]=c});return b};
c.qe=function(a){var b=[];if(a===t)return b;c.a(a,function(a){b[b.length]=a});return b};c.gb=function(a,b){var d=C;if(a===t)return d;if(jb&&a.indexOf===jb)return-1!=a.indexOf(b);c.a(a,function(a){if(d||(d=a===b))return Ja});return d};c.i=function(a,b){return-1!==a.indexOf(b)};c.$b=function(a,b){a.prototype=new b;a.prototype.constructor=a;a.ee=b.prototype};c.g=function(a){return a===Object(a)&&!c.isArray(a)};c.Ea=function(a){if(c.g(a)){for(var b in a)if(la.call(a,b))return C;return i}return C};c.e=
function(a){return a===h};c.jb=function(a){return"[object String]"==$.call(a)};c.wd=function(a){return"[object Date]"==$.call(a)};c.bc=function(a){return"[object Number]"==$.call(a)};c.xd=function(a){return!!(a&&1===a.nodeType)};c.Za=function(a){c.a(a,function(b,d){c.wd(b)?a[d]=c.hd(b):c.g(b)&&(a[d]=c.Za(b))});return a};c.timestamp=function(){Date.now=Date.now||function(){return+new Date};return Date.now()};c.hd=function(a){function b(a){return 10>a?"0"+a:a}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+
1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())};c.W=function(a){var b={};c.a(a,function(a,k){c.jb(a)&&0<a.length&&(b[k]=a)});return b};c.truncate=function(a,b){var d;"string"===typeof a?d=a.slice(0,b):c.isArray(a)?(d=[],c.a(a,function(a){d.push(c.truncate(a,b))})):c.g(a)?(d={},c.a(a,function(a,f){d[f]=c.truncate(a,b)})):d=a;return d};c.qa=function(){return function(a){function b(a,c){var g="",j=0,p=j="",p=0,e=g,n=[],r=c[a];r&&"object"===typeof r&&
"function"===typeof r.toJSON&&(r=r.toJSON(a));switch(typeof r){case "string":return d(r);case "number":return isFinite(r)?""+r:"null";case "boolean":case "null":return""+r;case "object":if(!r)return"null";g+="    ";n=[];if("[object Array]"===$.apply(r)){p=r.length;for(j=0;j<p;j+=1)n[j]=b(j,r)||"null";return p=0===n.length?"[]":g?"[\n"+g+n.join(",\n"+g)+"\n"+e+"]":"["+n.join(",")+"]"}for(j in r)la.call(r,j)&&(p=b(j,r))&&n.push(d(j)+(g?": ":":")+p);return p=0===n.length?"{}":g?"{"+n.join(",")+""+e+
"}":"{"+n.join(",")+"}"}}function d(a){var b=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};b.lastIndex=0;return b.test(a)?'"'+a.replace(b,function(a){var b=d[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}return b("",{"":a})}}();c.$=function(){function a(){switch(e){case "t":return f("t"),
f("r"),f("u"),f("e"),i;case "f":return f("f"),f("a"),f("l"),f("s"),f("e"),C;case "n":return f("n"),f("u"),f("l"),f("l"),t}g('Unexpected "'+e+'"')}function b(){for(;e&&" ">=e;)f()}function d(){var a,b,d="",c;if('"'===e)for(;f();){if('"'===e)return f(),d;if("\\"===e)if(f(),"u"===e){for(b=c=0;4>b;b+=1){a=parseInt(f(),16);if(!isFinite(a))break;c=16*c+a}d+=String.fromCharCode(c)}else if("string"===typeof l[e])d+=l[e];else break;else d+=e}g("Bad string")}function c(){var a;a="";"-"===e&&(a="-",f("-"));
for(;"0"<=e&&"9">=e;)a+=e,f();if("."===e)for(a+=".";f()&&"0"<=e&&"9">=e;)a+=e;if("e"===e||"E"===e){a+=e;f();if("-"===e||"+"===e)a+=e,f();for(;"0"<=e&&"9">=e;)a+=e,f()}a=+a;if(isFinite(a))return a;g("Bad number")}function f(a){a&&a!==e&&g("Expected '"+a+"' instead of '"+e+"'");e=n.charAt(j);j+=1;return e}function g(a){a=new SyntaxError(a);a.re=j;a.text=n;throw a;}var j,e,l={'"':'"',"\\":"\\","/":"/",b:"\u0008",f:"\u000c",n:"\n",r:"\r",t:"\t"},n,r;r=function(){b();switch(e){case "{":var j;a:{var l,
n={};if("{"===e){f("{");b();if("}"===e){f("}");j=n;break a}for(;e;){l=d();b();f(":");Object.hasOwnProperty.call(n,l)&&g('Duplicate key "'+l+'"');n[l]=r();b();if("}"===e){f("}");j=n;break a}f(",");b()}}g("Bad object")}return j;case "[":a:{j=[];if("["===e){f("[");b();if("]"===e){f("]");l=j;break a}for(;e;){j.push(r());b();if("]"===e){f("]");l=j;break a}f(",");b()}}g("Bad array")}return l;case '"':return d();case "-":return c();default:return"0"<=e&&"9">=e?c():a()}};return function(a){n=a;j=0;e=" ";
a=r();b();e&&g("Syntax error");return a}}();c.Tc=function(a){var b,d,k,f,g=0,e=0,p="",p=[];if(!a)return a;a=c.pe(a);do b=a.charCodeAt(g++),d=a.charCodeAt(g++),k=a.charCodeAt(g++),f=b<<16|d<<8|k,b=f>>18&63,d=f>>12&63,k=f>>6&63,f&=63,p[e++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f);
while(g<a.length);p=p.join("");switch(a.length%3){case 1:p=p.slice(0,-2)+"==";break;case 2:p=p.slice(0,-1)+"="}return p};c.pe=function(a){var a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),b="",d,c,f=0,g;d=c=0;f=a.length;for(g=0;g<f;g++){var e=a.charCodeAt(g),p=t;128>e?c++:p=127<e&&2048>e?String.fromCharCode(e>>6|192,e&63|128):String.fromCharCode(e>>12|224,e>>6&63|128,e&63|128);p!==t&&(c>d&&(b+=a.substring(d,c)),b+=p,d=c=g+1)}c>d&&(b+=a.substring(d,a.length));return b};c.zb=function(){function a(){function a(b,
c){var d,k=0;for(d=0;d<c.length;d++)k|=g[d]<<8*d;return b^k}var b,c,g=[],e=0;for(b=0;b<B.length;b++)c=B.charCodeAt(b),g.unshift(c&255),4<=g.length&&(e=a(e,g),g=[]);0<g.length&&(e=a(e,g));return e.toString(16)}function b(){var a=1*new Date,b;if(m.performance&&m.performance.now)b=m.performance.now();else for(b=0;a==1*new Date;)b++;return a.toString(16)+Math.floor(b).toString(16)}return function(){var c=(na.height*na.width).toString(16);return b()+"-"+Math.random().toString(16).replace(".","")+"-"+a()+
"-"+c+"-"+b()}}();var lb="ahrefsbot,ahrefssiteaudit,amazonbot,baiduspider,bingbot,bingpreview,chrome-lighthouse,facebookexternal,petalbot,pinterest,screaming frog,yahoo! slurp,yandex,adsbot-google,apis-google,duplexweb-google,feedfetcher-google,google favicon,google web preview,google-read-aloud,googlebot,googleweblight,mediapartners-google,storebot-google".split(",");c.ac=function(a){var b,a=a.toLowerCase();for(b=0;b<lb.length;b++)if(-1!==a.indexOf(lb[b]))return i;return C};c.yb=function(a){var b,
d,k,f=[];c.e(b)&&(b="&");c.a(a,function(a,b){d=encodeURIComponent(a.toString());k=encodeURIComponent(b);f[f.length]=k+"="+d});return f.join(b)};c.cb=function(a,b){var b=b.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]"),c=RegExp("[\\?&]"+b+"=([^&#]*)").exec(a);if(c===t||c&&"string"!==typeof c[1]&&c[1].length)return"";c=c[1];try{c=decodeURIComponent(c)}catch(k){s.error("Skipping decoding for malformed query param: "+c)}return c.replace(/\+/g," ")};c.cookie={get:function(a){for(var a=a+"=",b=v.cookie.split(";"),
c=0;c<b.length;c++){for(var k=b[c];" "==k.charAt(0);)k=k.substring(1,k.length);if(0===k.indexOf(a))return decodeURIComponent(k.substring(a.length,k.length))}return t},parse:function(a){var b;try{b=c.$(c.cookie.get(a))||{}}catch(d){}return b},we:function(a,b,c,k,f,g,e){var p="",l="",n="";e?p="; domain="+e:k&&(p=(p=Ra(v.location.hostname))?"; domain=."+p:"");c&&(l=new Date,l.setTime(l.getTime()+1E3*c),l="; expires="+l.toGMTString());g&&(f=i,n="; SameSite=None");f&&(n+="; secure");v.cookie=a+"="+encodeURIComponent(b)+
l+"; path=/"+p+n},set:function(a,b,c,k,f,e,j){var p="",l="",n="";j?p="; domain="+j:k&&(p=(p=Ra(v.location.hostname))?"; domain=."+p:"");c&&(l=new Date,l.setTime(l.getTime()+864E5*c),l="; expires="+l.toGMTString());e&&(f=i,n="; SameSite=None");f&&(n+="; secure");a=a+"="+encodeURIComponent(b)+l+"; path=/"+p+n;return v.cookie=a},remove:function(a,b,d){c.cookie.set(a,"",-1,b,C,C,d)}};var va=t;c.localStorage={Fa:function(a){(a=da(t,a))||s.error("localStorage unsupported; falling back to cookie store");
return a},error:function(a){s.error("localStorage error: "+a)},get:function(a){try{return m.localStorage.getItem(a)}catch(b){c.localStorage.error(b)}return t},parse:function(a){try{return c.$(c.localStorage.get(a))||{}}catch(b){}return t},set:function(a,b){try{m.localStorage.setItem(a,b)}catch(d){c.localStorage.error(d)}},remove:function(a){try{m.localStorage.removeItem(a)}catch(b){c.localStorage.error(b)}}};c.mc=function(){function a(a,k,f){return function(e){if(e=e||b(m.event)){var j=i,p;c.ib(f)&&
(p=f(e));e=k.call(a,e);if(C===p||C===e)j=C;return j}}}function b(a){if(a)a.preventDefault=b.preventDefault,a.stopPropagation=b.stopPropagation;return a}b.preventDefault=function(){this.returnValue=C};b.stopPropagation=function(){this.cancelBubble=i};return function(b,c,f,e,j){b?b.addEventListener&&!e?b.addEventListener(c,f,!!j):(c="on"+c,b[c]=a(b,f,b[c])):s.error("No valid element provided to register_event")}}();var Mb=/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/;c.bd=function(){function a(a,
b){return 0<=(" "+a.className+" ").replace(d," ").indexOf(" "+b+" ")}function b(b){if(!v.getElementsByTagName)return[];var b=b.split(" "),d,e,j,p,l,n,r,u=[v];for(p=0;p<b.length;p++)if(d=b[p].replace(/^\s+/,"").replace(/\s+$/,""),-1<d.indexOf("#")){e=d.split("#");d=e[0];u=v.getElementById(e[1]);if(!u||d&&u.nodeName.toLowerCase()!=d)return[];u=[u]}else if(-1<d.indexOf(".")){e=d.split(".");d=e[0];var A=e[1];d||(d="*");e=[];for(l=j=0;l<u.length;l++){r="*"==d?u[l].all?u[l].all:u[l].getElementsByTagName("*"):
u[l].getElementsByTagName(d);for(n=0;n<r.length;n++)e[j++]=r[n]}u=[];for(l=d=0;l<e.length;l++)e[l].className&&c.jb(e[l].className)&&a(e[l],A)&&(u[d++]=e[l])}else if(e=d.match(Mb)){d=e[1];var m=e[2],A=e[3],q=e[4];d||(d="*");e=[];for(l=j=0;l<u.length;l++){r="*"==d?u[l].all?u[l].all:u[l].getElementsByTagName("*"):u[l].getElementsByTagName(d);for(n=0;n<r.length;n++)e[j++]=r[n]}u=[];d=0;switch(A){case "=":A=function(a){return a.getAttribute(m)==q};break;case "~":A=function(a){return a.getAttribute(m).match(RegExp("\\b"+
q+"\\b"))};break;case "|":A=function(a){return a.getAttribute(m).match(RegExp("^"+q+"-?"))};break;case "^":A=function(a){return 0===a.getAttribute(m).indexOf(q)};break;case "$":A=function(a){return a.getAttribute(m).lastIndexOf(q)==a.getAttribute(m).length-q.length};break;case "*":A=function(a){return-1<a.getAttribute(m).indexOf(q)};break;default:A=function(a){return a.getAttribute(m)}}u=[];for(l=d=0;l<e.length;l++)A(e[l])&&(u[d++]=e[l])}else{e=[];for(l=j=0;l<u.length;l++){r=u[l].getElementsByTagName(d);
for(n=0;n<r.length;n++)e[j++]=r[n]}u=e}return u}var d=/[\t\r\n]/g;return function(a){return c.xd(a)?[a]:c.g(a)&&!c.e(a.length)?a:b.call(this,a)}}();var Nb="utm_source,utm_medium,utm_campaign,utm_content,utm_term,utm_id,utm_source_platform,utm_campaign_id,utm_creative_format,utm_marketing_tactic".split(","),Ob="dclid,fbclid,gclid,ko_click_id,li_fat_id,msclkid,sccid,ttclid,twclid,wbraid".split(",");c.info={fa:function(a){var b="",d={};c.a(Nb,function(k){b=c.cb(v.URL,k);b.length?d[k]=b:a!==h&&(d[k]=
a)});return d},Mb:function(){var a="",b={};c.a(Ob,function(d){a=c.cb(v.URL,d);a.length&&(b[d]=a)});return b},Fd:function(){return c.extend(c.info.fa(),c.info.Mb())},Nd:function(a){return 0===a.search("https?://(.*)google.([^/?]*)")?"google":0===a.search("https?://(.*)bing.com")?"bing":0===a.search("https?://(.*)yahoo.com")?"yahoo":0===a.search("https?://(.*)duckduckgo.com")?"duckduckgo":t},Od:function(a){var b=c.info.Nd(a),d={};if(b!==t)d.$search_engine=b,a=c.cb(a,"yahoo"!=b?"q":"p"),a.length&&(d.mp_keyword=
a);return d},va:function(a,b,d){return d||c.i(a," OPR/")?c.i(a,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":c.i(a,"IEMobile")||c.i(a,"WPDesktop")?"Internet Explorer Mobile":c.i(a,"SamsungBrowser/")?"Samsung Internet":c.i(a,"Edge")||c.i(a,"Edg/")?"Microsoft Edge":c.i(a,"FBIOS")?"Facebook Mobile":c.i(a,"Chrome")?"Chrome":c.i(a,"CriOS")?"Chrome iOS":c.i(a,"UCWEB")||c.i(a,"UCBrowser")?"UC Browser":c.i(a,"FxiOS")?"Firefox iOS":c.i(b||"","Apple")?c.i(a,"Mobile")?"Mobile Safari":
"Safari":c.i(a,"Android")?"Android Mobile":c.i(a,"Konqueror")?"Konqueror":c.i(a,"Firefox")?"Firefox":c.i(a,"MSIE")||c.i(a,"Trident/")?"Internet Explorer":c.i(a,"Gecko")?"Mozilla":""},Wa:function(a,b,d){b={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,
Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[c.info.va(a,b,d)];if(b===h)return t;a=a.match(b);return!a?t:parseFloat(a[a.length-2])},ec:function(){return/Windows/i.test(B)?/Phone/.test(B)||/WPDesktop/.test(B)?"Windows Phone":"Windows":
/(iPhone|iPad|iPod)/.test(B)?"iOS":/Android/.test(B)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(B)?"BlackBerry":/Mac/i.test(B)?"Mac OS X":/Linux/.test(B)?"Linux":/CrOS/.test(B)?"Chrome OS":""},Tb:function(a){return/Windows Phone/i.test(a)||/WPDesktop/.test(a)?"Windows Phone":/iPad/.test(a)?"iPad":/iPod/.test(a)?"iPod Touch":/iPhone/.test(a)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(a)?"BlackBerry":/Android/.test(a)?"Android":""},lc:function(a){a=a.split("/");return 3<=a.length?a[2]:""},ya:function(){return m.location.href},
ja:function(a){"object"!==typeof a&&(a={});return c.extend(c.W({$os:c.info.ec(),$browser:c.info.va(B,O.vendor,ma),$referrer:v.referrer,$referring_domain:c.info.lc(v.referrer),$device:c.info.Tb(B)}),{$current_url:c.info.ya(),$browser_version:c.info.Wa(B,O.vendor,ma),$screen_height:na.height,$screen_width:na.width,mp_lib:"web",$lib_version:"2.60.0",$insert_id:ua(),time:c.timestamp()/1E3},c.W(a))},Jd:function(){return c.extend(c.W({$os:c.info.ec(),$browser:c.info.va(B,O.vendor,ma)}),{$browser_version:c.info.Wa(B,
O.vendor,ma)})},Gd:function(){return c.W({current_page_title:v.title,current_domain:m.location.hostname,current_url_path:m.location.pathname,current_url_protocol:m.location.protocol,current_url_search:m.location.search})}};var wb=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,vb=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,oa=t,pa=t;if("undefined"!==typeof JSON)oa=JSON.stringify,pa=JSON.parse;oa=oa||c.qa;pa=pa||c.$;c.toArray=c.X;c.isObject=c.g;c.JSONEncode=c.qa;c.JSONDecode=c.$;c.isBlockedUA=c.ac;c.isEmptyObject=c.Ea;c.info=
c.info;c.info.device=c.info.Tb;c.info.browser=c.info.va;c.info.browserVersion=c.info.Wa;c.info.properties=c.info.ja;c.NPO=L;var ha="change",Z="click",Ga="submit",Db="clientX,clientY,offsetX,offsetY,pageX,pageY,screenX,screenY,x,y".split(","),ab=["mp-include"],Fa=["mp-no-track"],$a=Fa.concat(["mp-sensitive"]),Ab="aria-label,aria-labelledby,aria-describedby,href,name,role,title,type".split(","),D=ea("autocapture"),mb={allow_selectors:[],allow_url_regexes:[],block_attrs:[],block_element_callback:t,block_selectors:[],
block_url_regexes:[],capture_extra_attrs:[],capture_text_content:C,scroll_capture_all:C,scroll_depth_percent_checkpoints:[25,50,75,100],click:i,input:i,pageview:"full-url",scroll:i,submit:i},qa={$mp_autocapture:i};E.prototype.D=function(){var a;try{a=!!v.createElement("div").matches}catch(b){a=C}a?(this.rd(),this.pd(),this.qd(),this.sd(),this.td()):D.l("Autocapture unavailable: missing required DOM APIs")};E.prototype.jd=function(){var a=this.z.c("autocapture");return a?c.g(a)?c.extend({},mb,a):mb:
{}};E.prototype.j=function(a){return this.jd()[a]};E.prototype.za=function(){var a,b=c.info.ya(),d=this.j("allow_url_regexes")||[];if(d.length){var k=C;for(a=0;a<d.length;a++){var f=d[a];try{if(b.match(f)){k=i;break}}catch(e){return D.l("Error while checking block URL regex: "+f,e),i}}if(!k)return i}d=this.j("block_url_regexes")||[];if(!d||!d.length)return C;for(a=0;a<d.length;a++)try{if(b.match(d[a]))return i}catch(j){return D.l("Error while checking block URL regex: "+d[a],j),i}return C};E.prototype.gc=
function(){return this.z.c("autocapture")?this.j("pageview"):this.z.c("track_pageview")};E.prototype.tb=function(a,b){if(!this.za()){var d=Bb(a,{Qc:this.j("allow_element_callback"),Rc:this.j("allow_selectors"),Uc:this.j("block_attrs"),Vc:this.j("block_element_callback"),Wc:this.j("block_selectors"),Yc:this.j("capture_extra_attrs"),Zc:this.j("capture_text_content")});d&&(c.extend(d,qa),this.z.p(b,d))}};E.prototype.pd=function(){m.removeEventListener(Z,this.zd);if(this.j("click"))D.log("Initializing click tracking"),
this.zd=m.addEventListener(Z,function(a){this.j("click")&&this.tb(a,"$mp_click")}.bind(this))};E.prototype.qd=function(){m.removeEventListener(ha,this.yd);if(this.j("input"))D.log("Initializing input tracking"),this.yd=m.addEventListener(ha,function(a){this.j("input")&&this.tb(a,"$mp_input_change")}.bind(this))};E.prototype.rd=function(){m.removeEventListener("popstate",this.Cd);m.removeEventListener("hashchange",this.Ad);m.removeEventListener("mp_locationchange",this.Bd);if(this.gc()){D.log("Initializing pageview tracking");
var a="",b=C;this.za()||(b=this.z.ub(qa));b&&(a=c.info.ya());this.Cd=m.addEventListener("popstate",function(){m.dispatchEvent(new Event("mp_locationchange"))});this.Ad=m.addEventListener("hashchange",function(){m.dispatchEvent(new Event("mp_locationchange"))});var d=m.history.pushState;if("function"===typeof d)m.history.pushState=function(a,b,c){d.call(m.history,a,b,c);m.dispatchEvent(new Event("mp_locationchange"))};var k=m.history.replaceState;if("function"===typeof k)m.history.replaceState=function(a,
b,c){k.call(m.history,a,b,c);m.dispatchEvent(new Event("mp_locationchange"))};this.Bd=m.addEventListener("mp_locationchange",wa(function(){if(!this.za()){var b=c.info.ya(),d=C,k=b.split("#")[0].split("?")[0]!==a.split("#")[0].split("?")[0],e=this.gc();"full-url"===e?d=b!==a:"url-with-path-and-query-string"===e?d=b.split("#")[0]!==a.split("#")[0]:"url-with-path"===e&&(d=k);if(d&&(this.z.ub(qa)&&(a=b),k))this.Ga=0,D.log("Path change: re-initializing scroll depth checkpoints")}}.bind(this)))}};E.prototype.sd=
function(){m.removeEventListener("scrollend",this.Dd);if(this.j("scroll"))D.log("Initializing scroll tracking"),this.Ga=0,this.Dd=m.addEventListener("scrollend",wa(function(){if(this.j("scroll")&&!this.za()){var a=this.j("scroll_capture_all"),b=(this.j("scroll_depth_percent_checkpoints")||[]).slice().sort(function(a,b){return a-b}),d=m.scrollY,k=c.extend({$scroll_top:d},qa);try{var e=v.body.scrollHeight,g=Math.round(100*(d/(e-m.innerHeight)));k.$scroll_height=e;k.$scroll_percentage=g;if(g>this.Ga)for(d=
0;d<b.length;d++){var j=b[d];if(g>=j&&this.Ga<j)this.Ga=k.$scroll_checkpoint=j,a=i}}catch(p){D.l("Error while calculating scroll percentage",p)}a&&this.z.p("$mp_scroll",k)}}.bind(this)))};E.prototype.td=function(){m.removeEventListener(Ga,this.Ed);if(this.j("submit"))D.log("Initializing submit tracking"),this.Ed=m.addEventListener(Ga,function(a){this.j("submit")&&this.tb(a,"$mp_submit")}.bind(this))};(function(a){var a=a.prototype,b;for(b in a)"function"===typeof a[b]&&(a[b]=wa(a[b]))})(E);I.prototype.xa=
U();I.prototype.ab=U();I.prototype.Ta=U();I.prototype.D=function(a){this.z=a;return this};I.prototype.p=function(a,b,d,k){var e=this,g=c.bd(a);if(0===g.length)s.error("The DOM query ("+a+") returned 0 elements");else return c.a(g,function(a){c.mc(a,this.fc,function(a){var c={},g=e.xa(d,this),j=e.z.c("track_links_timeout");e.ab(a,this,c);window.setTimeout(e.Bc(k,g,c,i),j);e.z.p(b,g,e.Bc(k,g,c))})},this),i};I.prototype.Bc=function(a,b,c,k){var k=k||C,e=this;return function(){if(!c.Xc)c.Xc=i,a&&a(k,
b)===C||e.Ta(b,c,k)}};I.prototype.xa=function(a,b){return"function"===typeof a?a(b):c.extend({},a)};c.$b(R,I);R.prototype.xa=function(a,b){var c=R.ee.xa.apply(this,arguments);if(b.href)c.url=b.href;return c};R.prototype.ab=function(a,b,c){c.cc=2===a.which||a.metaKey||a.ctrlKey||"_blank"===b.target;c.href=b.href;c.cc||a.preventDefault()};R.prototype.Ta=function(a,b){b.cc||setTimeout(function(){window.location=b.href},0)};c.$b(ca,I);ca.prototype.ab=function(a,b,c){c.element=b;a.preventDefault()};ca.prototype.Ta=
function(a,b){setTimeout(function(){b.element.submit()},0)};var Pb=ea("lock");Pa.prototype.xb=function(a,b){return new this.kc(c.bind(function(c,k){function e(){function b(){o.removeItem(w);o.getItem(v)===n&&o.removeItem(v);o.getItem(s)===n&&o.removeItem(s)}o.setItem(w,"1");a().then(function(a){b();c(a)}).catch(function(a){b();k(a)})}function g(){o.setItem(s,n);p(j,function(){o.getItem(s)===n?e():l(function(){o.getItem(v)!==n?g():p(function(){return!o.getItem(w)},e)})})}function j(){var a=o.getItem(v);
if(a&&a!==n)return C;o.setItem(v,n);if(o.getItem(v)===n)return i;da(o,i)||k(Error("localStorage support dropped while acquiring lock"));return C}function p(a,b){a()?b():l(function(){p(a,b)})}function l(a){(new Date).getTime()-m>q?(Pb.error("Timeout waiting for mutex on "+u+"; clearing lock. ["+n+"]"),o.removeItem(w),o.removeItem(v),g()):setTimeout(function(){try{a()}catch(b){k(b)}},A*(Math.random()+0.1))}var n=b||(new Date).getTime()+"|"+Math.random(),m=(new Date).getTime(),u=this.V,A=this.jc,q=this.zc,
o=this.o,s=u+":X",v=u+":Y",w=u+":Z";try{if(da(o,i))g();else throw Error("localStorage support check failed");}catch(x){k(x)}},this))};W.prototype.D=function(){return y.resolve()};W.prototype.setItem=function(a,b){return new y(c.bind(function(c,k){try{this.o.setItem(a,b)}catch(e){k(e)}c()},this))};W.prototype.getItem=function(a){return new y(c.bind(function(b,c){var k;try{k=this.o.getItem(a)}catch(e){c(e)}b(k)},this))};W.prototype.removeItem=function(a){return new y(c.bind(function(b,c){try{this.o.removeItem(a)}catch(k){c(k)}b()},
this))};var Qa=ea("batch");H.prototype.N=function(){return this.hb?y.resolve():this.A.D().then(c.bind(function(){this.hb=i},this)).catch(c.bind(function(a){this.h("Error initializing queue persistence. Disabling persistence",a);this.hb=i;this.u=C},this))};H.prototype.$a=function(a,b){var d={id:ua(),flushAfter:(new Date).getTime()+2*b,payload:a};if(this.u)return this.kb.xb(c.bind(function(){return this.N().then(c.bind(function(){return this.ma()},this)).then(c.bind(function(a){a.push(d);return this.pb(a)},
this)).then(c.bind(function(a){a&&this.J.push(d);return a},this)).catch(c.bind(function(b){this.h("Error enqueueing item",b,a);return C},this))},this),this.Ia).catch(c.bind(function(a){this.h("Error acquiring storage lock",a);return C},this));this.J.push(d);return y.resolve(i)};H.prototype.fd=function(a){var b=this.J.slice(0,a);return this.u&&b.length<a?this.N().then(c.bind(function(){return this.ma()},this)).then(c.bind(function(d){if(d.length){var e={};c.a(b,function(a){e[a.id]=i});for(var f=0;f<
d.length;f++){var g=d[f];if((new Date).getTime()>g.flushAfter&&!e[g.id]&&(g.Id=i,b.push(g),b.length>=a))break}}return b},this)):y.resolve(b)};H.prototype.Kd=function(a){var b={};c.a(a,function(a){b[a]=i});this.J=Oa(this.J,b);if(this.u){var d=c.bind(function(){return this.N().then(c.bind(function(){return this.ma()},this)).then(c.bind(function(a){a=Oa(a,b);return this.pb(a)},this)).then(c.bind(function(){return this.ma()},this)).then(c.bind(function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d.id&&
b[d.id])throw Error("Item not removed from storage");}return i},this)).catch(c.bind(function(b){this.h("Error removing items",b,a);return C},this))},this);return this.kb.xb(d,this.Ia).catch(c.bind(function(a){this.h("Error acquiring storage lock",a);return da(this.A.o,i)?C:d().then(c.bind(function(a){return!a?this.A.removeItem(this.V).then(function(){return a}):a},this)).catch(c.bind(function(a){this.h("Error clearing queue",a);return C},this))},this))}return y.resolve(i)};H.prototype.ne=function(a){this.J=
Na(this.J,a);return this.u?this.kb.xb(c.bind(function(){return this.N().then(c.bind(function(){return this.ma()},this)).then(c.bind(function(b){b=Na(b,a);return this.pb(b)},this)).catch(c.bind(function(b){this.h("Error updating items",a,b);return C},this))},this),this.Ia).catch(c.bind(function(a){this.h("Error acquiring storage lock",a);return C},this)):y.resolve(i)};H.prototype.ma=function(){return this.N().then(c.bind(function(){return this.A.getItem(this.V)},this)).then(c.bind(function(a){a&&(a=
pa(a),c.isArray(a)||(this.h("Invalid storage entry:",a),a=t));return a||[]},this)).catch(c.bind(function(a){this.h("Error retrieving queue",a);return[]},this))};H.prototype.pb=function(a){try{var b=oa(a)}catch(d){return this.h("Error serializing queue",d),y.resolve(C)}return this.N().then(c.bind(function(){return this.A.setItem(this.V,b)},this)).then(function(){return i}).catch(c.bind(function(a){this.h("Error saving queue",a);return C},this))};H.prototype.clear=function(){this.J=[];return this.u?
this.N().then(c.bind(function(){return this.A.removeItem(this.V)},this)):y.resolve()};var aa=ea("batch");F.prototype.$a=function(a){return this.ka.$a(a,this.Ba)};F.prototype.start=function(){this.na=C;this.Xa=0;return this.flush()};F.prototype.stop=function(){this.na=i;if(this.sb)clearTimeout(this.sb),this.sb=t};F.prototype.clear=function(){return this.ka.clear()};F.prototype.oc=function(){this.L=this.I.batch_size};F.prototype.T=function(){this.qc(this.I.batch_flush_interval_ms)};F.prototype.qc=function(a){this.Ba=
a;if(!this.na)this.sb=setTimeout(c.bind(function(){this.na||this.flush()},this),this.Ba)};F.prototype.Sd=function(a,b){return new y(c.bind(function(c){this.Qd(a,b,c)},this))};F.prototype.flush=function(a){if(this.ob)return aa.log("Flush: Request already in progress"),y.resolve();this.ob=i;var a=a||{},b=this.I.batch_request_timeout_ms,d=(new Date).getTime(),e=this.L;return this.ka.fd(e).then(c.bind(function(f){var g=f.length===e,j=[],p={};c.a(f,function(a){var b=a.payload;this.ua&&!a.Id&&(b=this.ua(b));
if(b){b.event&&b.properties&&(b.properties=c.extend({},b.properties,{mp_sent_by_lib_version:"2.60.0"}));var d=i,e=a.id;if(e){if(5<(this.P[e]||0))this.h("[dupe] item ID sent too many times, not sending",{item:a,L:f.length,ge:this.P[e]}),d=C}else this.h("[dupe] found item with no ID",{item:a});d&&j.push(b)}p[a.id]=b},this);if(1>j.length)return this.ob=C,this.T(),y.resolve();var l=c.bind(function(){return this.ka.Kd(c.map(f,function(a){return a.id})).then(c.bind(function(a){c.a(f,c.bind(function(a){var b=
a.id;b?(this.P[b]=this.P[b]||0,this.P[b]++,5<this.P[b]&&this.h("[dupe] item ID sent too many times",{item:a,L:f.length,ge:this.P[b]})):this.h("[dupe] found item with no ID while removing",{item:a})},this));if(a){this.Xa=0;return this.Ub&&!g?(this.T(),y.resolve()):this.flush()}5<++this.Xa?(this.h("Too many queue failures; disabling batching system."),this.ae()):this.T();return y.resolve()},this))},this),n=c.bind(function(g){this.ob=C;try{if(a.Dc)return this.ka.ne(p);if(c.g(g)&&"timeout"===g.error&&
(new Date).getTime()-d>=b)return this.h("Network timeout; retrying"),this.flush();var j;if(j=c.g(g)){var n;if(!(n=500<=g.Da)){var r;if(!(r=429===g.Da)){var q;if(q=0>=g.Da){var o=m.navigator.onLine;q=!(c.e(o)||o)}r=q||"timeout"===g.error}n=r}j=n}if(j){var s=2*this.Ba;g.pc&&(s=1E3*parseInt(g.pc,10)||s);s=Math.min(6E5,s);this.h("Error; retry in "+s+" ms");this.qc(s);return y.resolve()}if(c.g(g)&&413===g.Da){if(1<f.length){var v=Math.max(1,Math.floor(e/2));this.L=Math.min(this.L,v,f.length-1);this.h("413 response; reducing batch size to "+
this.L);this.T();return y.resolve()}this.h("Single-event request too large; dropping",f);this.oc()}return l()}catch(w){this.h("Error handling API response",w),this.T()}},this),r={method:"POST",Hc:i,od:i,Ac:b};if(a.Dc)r.vb="sendBeacon";aa.log("MIXPANEL REQUEST:",j);return this.Sd(j,r).then(n)},this)).catch(c.bind(function(a){this.h("Error flushing request queue",a);this.T()},this))};F.prototype.h=function(a,b){aa.error.apply(aa.error,arguments);if(this.R)try{b instanceof Error||(b=Error(a)),this.R(a,
b)}catch(c){aa.error(c)}};var Kb="__mp_opt_in_out_",nb={sc:function(a,b){var d={},e={};c.g(a)?c.a(a,function(a,b){this.G(b)||(e[b]=a)},this):e[a]=b;d.$set=e;return d},Ec:function(a){var b={},d=[];c.isArray(a)||(a=[a]);c.a(a,function(a){this.G(a)||d.push(a)},this);b.$unset=d;return b},vc:function(a,b){var d={},e={};c.g(a)?c.a(a,function(a,b){this.G(b)||(e[b]=a)},this):e[a]=b;d.$set_once=e;return d},Cc:function(a,b){var d={},e={};c.g(a)?c.a(a,function(a,b){this.G(b)||(e[b]=c.isArray(a)?a:[a])},this):
e[a]=c.isArray(b)?b:[b];d.$union=e;return d},Sc:function(a,b){var d={},e={};c.g(a)?c.a(a,function(a,b){this.G(b)||(e[b]=a)},this):e[a]=b;d.$append=e;return d},nc:function(a,b){var d={},e={};c.g(a)?c.a(a,function(a,b){this.G(b)||(e[b]=a)},this):e[a]=b;d.$remove=e;return d},ue:function(){return{$delete:""}}};c.extend(w.prototype,nb);w.prototype.ea=function(a,b,c){this.d=a;this.Pa=b;this.Oa=c};w.prototype.set=S(function(a,b,d){var e=this.sc(a,b);c.g(a)&&(d=b);return this.k(e,d)});w.prototype.U=S(function(a,
b,d){var e=this.vc(a,b);c.g(a)&&(d=b);return this.k(e,d)});w.prototype.Ja=S(function(a,b){return this.k(this.Ec(a),b)});w.prototype.pa=S(function(a,b,d){c.g(a)&&(d=b);return this.k(this.Cc(a,b),d)});w.prototype["delete"]=S(function(a){return this.k({$delete:""},a)});w.prototype.remove=S(function(a,b,c){return this.k(this.nc(a,b),c)});w.prototype.k=function(a,b){a.$group_key=this.Pa;a.$group_id=this.Oa;a.$token=this.s("token");return this.d.Sa({type:"groups",data:c.Za(a),M:this.s("api_host")+"/"+this.s("api_routes").groups,
Va:this.d.B.eb},b)};w.prototype.G=function(a){return"$group_key"===a||"$group_id"===a};w.prototype.s=function(a){return this.d.c(a)};w.prototype.toString=function(){return this.d.toString()+".group."+this.Pa+"."+this.Oa};w.prototype.remove=w.prototype.remove;w.prototype.set=w.prototype.set;w.prototype.set_once=w.prototype.U;w.prototype.union=w.prototype.pa;w.prototype.unset=w.prototype.Ja;w.prototype.toString=w.prototype.toString;c.extend(q.prototype,nb);q.prototype.ea=function(a){this.d=a};q.prototype.set=
M(function(a,b,d){var e=this.sc(a,b);c.g(a)&&(d=b);this.s("save_referrer")&&this.d.persistence.wb(document.referrer);e.$set=c.extend({},c.info.Jd(),e.$set);return this.k(e,d)});q.prototype.U=M(function(a,b,d){var e=this.vc(a,b);c.g(a)&&(d=b);return this.k(e,d)});q.prototype.Ja=M(function(a,b){return this.k(this.Ec(a),b)});q.prototype.Zb=M(function(a,b,d){var e={},f={};c.g(a)?(c.a(a,function(a,b){this.G(b)||(isNaN(parseFloat(a))?s.error("Invalid increment value passed to mixpanel.people.increment - must be a number"):
f[b]=a)},this),d=b):(c.e(b)&&(b=1),f[a]=b);e.$add=f;return this.k(e,d)});q.prototype.append=M(function(a,b,d){c.g(a)&&(d=b);return this.k(this.Sc(a,b),d)});q.prototype.remove=M(function(a,b,d){c.g(a)&&(d=b);return this.k(this.nc(a,b),d)});q.prototype.pa=M(function(a,b,d){c.g(a)&&(d=b);return this.k(this.Cc(a,b),d)});q.prototype.je=M(function(a,b,d){if(!c.bc(a)&&(a=parseFloat(a),isNaN(a))){s.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",
c.extend({$amount:a},b),d)});q.prototype.Kb=function(a){return this.set("$transactions",[],a)};q.prototype.Sb=function(){if(this.Qa())return this.k({$delete:this.d.O()});s.error("mixpanel.people.delete_user() requires you to call identify() first")};q.prototype.toString=function(){return this.d.toString()+".people"};q.prototype.k=function(a,b){a.$token=this.s("token");a.$distinct_id=this.d.O();var d=this.d.w("$device_id"),e=this.d.w("$user_id"),f=this.d.w("$had_persisted_distinct_id");d&&(a.$device_id=
d);e&&(a.$user_id=e);f&&(a.$had_persisted_distinct_id=f);d=c.Za(a);return!this.Qa()?(this.Lc(a),c.e(b)||(this.s("verbose")?b({status:-1,error:t}):b(-1)),c.truncate(d,255)):this.d.Sa({type:"people",data:d,M:this.s("api_host")+"/"+this.s("api_routes").engage,Va:this.d.B.mb},b)};q.prototype.s=function(a){return this.d.c(a)};q.prototype.Qa=function(){return this.d.ba.Xb===i};q.prototype.Lc=function(a){"$set"in a?this.d.persistence.v("$set",a):"$set_once"in a?this.d.persistence.v("$set_once",a):"$unset"in
a?this.d.persistence.v("$unset",a):"$add"in a?this.d.persistence.v("$add",a):"$append"in a?this.d.persistence.v("$append",a):"$remove"in a?this.d.persistence.v("$remove",a):"$union"in a?this.d.persistence.v("$union",a):s.error("Invalid call to _enqueue():",a)};q.prototype.ca=function(a,b,d,e){var f=this,g=c.extend({},this.d.persistence.ha(a)),j=g;!c.e(g)&&c.g(g)&&!c.Ea(g)&&(f.d.persistence.C(a,g),f.d.persistence.save(),e&&(j=e(g)),b.call(f,j,function(b,e){0===b&&f.d.persistence.v(a,g);c.e(d)||d(b,
e)}))};q.prototype.Mc=function(a,b,d,e,f,g,j){var p=this;this.ca("$set",this.set,a);this.ca("$set_once",this.U,e);this.ca("$unset",this.Ja,g,function(a){return c.keys(a)});this.ca("$add",this.Zb,b);this.ca("$union",this.pa,f);a=this.d.persistence.ha("$append");if(!c.e(a)&&c.isArray(a)&&a.length)for(var l,b=function(a,b){0===a&&p.d.persistence.v("$append",l);c.e(d)||d(a,b)},e=a.length-1;0<=e;e--)a=this.d.persistence.ha("$append"),l=a.pop(),p.d.persistence.save(),c.Ea(l)||p.append(l,b);a=this.d.persistence.ha("$remove");
if(!c.e(a)&&c.isArray(a)&&a.length)for(var n,b=function(a,b){0===a&&p.d.persistence.v("$remove",n);c.e(j)||j(a,b)},e=a.length-1;0<=e;e--)a=this.d.persistence.ha("$remove"),n=a.pop(),p.d.persistence.save(),c.Ea(n)||p.remove(n,b)};q.prototype.G=function(a){return"$distinct_id"===a||"$token"===a||"$device_id"===a||"$user_id"===a||"$had_persisted_distinct_id"===a};q.prototype.set=q.prototype.set;q.prototype.set_once=q.prototype.U;q.prototype.unset=q.prototype.Ja;q.prototype.increment=q.prototype.Zb;q.prototype.append=
q.prototype.append;q.prototype.remove=q.prototype.remove;q.prototype.union=q.prototype.pa;q.prototype.track_charge=q.prototype.je;q.prototype.clear_charges=q.prototype.Kb;q.prototype.delete_user=q.prototype.Sb;q.prototype.toString=q.prototype.toString;var Qb="__mps,__mpso,__mpus,__mpa,__mpap,__mpr,__mpu,$people_distinct_id,__alias,__timers".split(",");o.prototype.ja=function(){var a={};this.load();c.a(this.props,function(b,d){c.gb(Qb,d)||(a[d]=b)});return a};o.prototype.load=function(){if(!this.disabled){var a=
this.o.parse(this.name);a&&(this.props=c.extend({},a))}};o.prototype.oe=function(){var a;this.o===c.localStorage?(a=c.cookie.parse(this.name),c.cookie.remove(this.name),c.cookie.remove(this.name,i),a&&this.F(a)):this.o===c.cookie&&(a=c.localStorage.parse(this.name),c.localStorage.remove(this.name),a&&this.F(a))};o.prototype.save=function(){this.disabled||this.o.set(this.name,c.qa(this.props),this.bb,this.Ya,this.rc,this.Qb,this.wa)};o.prototype.Ha=function(a){this.load();return this.props[a]};o.prototype.remove=
function(){this.o.remove(this.name,C,this.wa);this.o.remove(this.name,i,this.wa)};o.prototype.clear=function(){this.remove();this.props={}};o.prototype.F=function(a,b,d){return c.g(a)?("undefined"===typeof b&&(b="None"),this.bb="undefined"===typeof d?this.Rb:d,this.load(),c.a(a,function(a,c){if(!this.props.hasOwnProperty(c)||this.props[c]===b)this.props[c]=a},this),this.save(),i):C};o.prototype.q=function(a,b){return c.g(a)?(this.bb="undefined"===typeof b?this.Rb:b,this.load(),c.extend(this.props,
a),this.save(),i):C};o.prototype.Z=function(a){this.load();a in this.props&&(delete this.props[a],this.save())};o.prototype.Gc=function(a){this.q(c.info.Od(a))};o.prototype.wb=function(a){this.F({$initial_referrer:a||"$direct",$initial_referring_domain:c.info.lc(a)||"$direct"},"")};o.prototype.md=function(){return c.W({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};o.prototype.Fc=function(a){this.Rb=this.bb=a.cookie_expiration;this.uc(a.disable_persistence);
this.Ud(a.cookie_domain);this.Vd(a.cross_site_cookie);this.Wd(a.cross_subdomain_cookie);this.Zd(a.secure_cookie)};o.prototype.uc=function(a){(this.disabled=a)?this.remove():this.save()};o.prototype.Ud=function(a){if(a!==this.wa)this.remove(),this.wa=a,this.save()};o.prototype.Vd=function(a){if(a!==this.Qb)this.Qb=a,this.remove(),this.save()};o.prototype.Wd=function(a){if(a!==this.Ya)this.Ya=a,this.remove(),this.save()};o.prototype.kd=function(){return this.Ya};o.prototype.Zd=function(a){if(a!==this.rc)this.rc=
a?i:C,this.remove(),this.save()};o.prototype.v=function(a,b){var d=this.sa(a),e=b[a],f=this.K("$set"),g=this.K("$set_once"),j=this.K("$unset"),p=this.K("$add"),l=this.K("$union"),n=this.K("$remove",[]),m=this.K("$append",[]);"__mps"===d?(c.extend(f,e),this.C("$add",e),this.C("$union",e),this.C("$unset",e)):"__mpso"===d?(c.a(e,function(a,b){b in g||(g[b]=a)}),this.C("$unset",e)):"__mpus"===d?c.a(e,function(a){c.a([f,g,p,l],function(b){a in b&&delete b[a]});c.a(m,function(b){a in b&&delete b[a]});j[a]=
i}):"__mpa"===d?(c.a(e,function(a,b){b in f?f[b]+=a:(b in p||(p[b]=0),p[b]+=a)},this),this.C("$unset",e)):"__mpu"===d?(c.a(e,function(a,b){c.isArray(a)&&(b in l||(l[b]=[]),c.a(a,function(a){c.gb(l[b],a)||l[b].push(a)}))}),this.C("$unset",e)):"__mpr"===d?(n.push(e),this.C("$append",e)):"__mpap"===d&&(m.push(e),this.C("$unset",e));s.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):");s.log(b);this.save()};o.prototype.C=function(a,b){var d=this.props[this.sa(a)];c.e(d)||c.a(b,function(b,e){"$append"===
a||"$remove"===a?c.a(d,function(a){a[e]===b&&delete a[e]}):delete d[e]},this)};o.prototype.ha=function(a){return this.Ha(this.sa(a))};o.prototype.sa=function(a){if("$set"===a)return"__mps";if("$set_once"===a)return"__mpso";if("$unset"===a)return"__mpus";if("$add"===a)return"__mpa";if("$append"===a)return"__mpap";if("$remove"===a)return"__mpr";if("$union"===a)return"__mpu";s.error("Invalid queue:",a)};o.prototype.K=function(a,b){var d=this.sa(a),b=c.e(b)?{}:b;return this.props[d]||(this.props[d]=b)};
o.prototype.Xd=function(a){var b=(new Date).getTime(),c=this.Ha("__timers")||{};c[a]=b;this.props.__timers=c;this.save()};o.prototype.Ld=function(a){var b=(this.Ha("__timers")||{})[a];c.e(b)||(delete this.props.__timers[a],this.save());return b};var sa,x,T=m.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,La=!T&&-1===B.indexOf("MSIE")&&-1===B.indexOf("Mozilla"),ra=t;O.sendBeacon&&(ra=function(){return O.sendBeacon.apply(O,arguments)});var ob={track:"track/",engage:"engage/",groups:"groups/",
record:"record/"},pb={api_host:"https://api-js.mixpanel.com",api_routes:ob,api_method:"POST",api_transport:"XHR",api_payload_format:"base64",app_host:"https://mixpanel.com",autocapture:C,cdn:"https://cdn.mxpnl.com",cross_site_cookie:C,cross_subdomain_cookie:i,error_reporter:V,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:V,mp_loader:t,track_marketing:i,track_pageview:C,skip_first_touch_marketing:C,store_google:i,stop_utm_persistence:C,save_referrer:i,test:C,verbose:C,
img:C,debug:C,track_links_timeout:300,cookie_expiration:365,upgrade:C,disable_persistence:C,disable_cookie:C,secure_cookie:C,ip:i,opt_out_tracking_by_default:C,opt_out_persistence_by_default:C,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:t,property_blacklist:[],xhr_headers:{},ignore_dnt:C,batch_requests:i,batch_size:50,batch_flush_interval_ms:5E3,batch_request_timeout_ms:9E4,batch_autostart:i,hooks:{},record_block_class:/^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$/,
record_block_selector:"img, video",record_canvas:C,record_collect_fonts:C,record_idle_timeout_ms:18E5,record_mask_text_class:/^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$/,record_mask_text_selector:"*",record_max_ms:864E5,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},Ka=C;e.prototype.D=function(a,b,d){if(c.e(d))this.m("You must name your new library: init(token, config, name)");else if("mixpanel"===d)this.m("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");
else return a=ba(a,b,d),x[d]=a,a.ta(),a};e.prototype.ea=function(a,b,d){b=b||{};this.__loaded=i;this.config={};var e={};"api_payload_format"in b||(b.api_host||pb.api_host).match(/\.mixpanel\.com/)&&(e.api_payload_format="json");this.tc(c.extend({},pb,e,b,{name:d,token:a,callback_fn:("mixpanel"===d?d:"mixpanel."+d)+"._jsc"}));this._jsc=V;this.La=[];this.Ma=[];this.Ka=[];this.ba={disable_all_events:C,identify_called:C};this.B={};if(this.aa=this.c("batch_requests"))if(!c.localStorage.Fa(i)||!T)this.aa=
C,s.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),c.a(this.Vb(),function(a){s.log("Clearing batch queue "+a.la);c.localStorage.remove(a.la)});else if(this.ud(),ra&&m.addEventListener){var f=c.bind(function(){this.B.S.na||this.B.S.flush({Dc:i})},this);m.addEventListener("pagehide",function(a){a.persisted&&f()});m.addEventListener("visibilitychange",function(){"hidden"===v.visibilityState&&f()})}this.persistence=this.cookie=new o(this.config);this.Y={};this.Nc();a=
c.zb();this.O()||this.F({distinct_id:"$device:"+a,$device_id:a},"");this.Ua=new E(this);this.Ua.D();0<this.c("record_sessions_percent")&&100*Math.random()<=this.c("record_sessions_percent")&&this.yc()};e.prototype.yc=P(function(){if(m.MutationObserver){var a=c.bind(function(){this.Q=this.Q||new m.__mp_recorder(this);this.Q.startRecording()},this);c.e(m.__mp_recorder)?Ma(this.c("recorder_src"),a):a()}else s.l("Browser does not support MutationObserver; skipping session recording")});e.prototype.ce=
function(){this.Q?this.Q.stopRecording():s.l("Session recorder module not loaded")};e.prototype.Wb=function(){var a={},b=this.Eb();b&&(a.$mp_replay_id=b);return a};e.prototype.nd=function(){var a=t,b=this.Eb();b&&(a="https://mixpanel.com/projects/replay-redirect?"+c.yb({replay_id:b,distinct_id:this.O(),token:this.c("token")}));return a};e.prototype.Eb=function(){var a=t;this.Q&&(a=this.Q.replayId);return a||t};e.prototype.ta=function(){this.c("loaded")(this);this.Ib();this.people.U(this.persistence.md());
if(this.c("store_google")&&this.c("stop_utm_persistence")){var a=c.info.fa(t);c.a(a,function(a,c){this.Z(c)}.bind(this))}};e.prototype.Ib=function(){this.persistence.Gc(v.referrer);this.c("store_google")&&!this.c("stop_utm_persistence")&&this.q(c.info.fa());this.c("save_referrer")&&this.persistence.wb(v.referrer)};e.prototype.Kc=function(){c.a(this.La,function(a){this.Ra.apply(this,a)},this);this.ga()||c.a(this.Ma,function(a){this.k.apply(this,a)},this);delete this.La;delete this.Ma};e.prototype.Ra=
function(a,b){if(this.c("img"))return this.m("You can't use DOM tracking functions with img = true."),C;if(!Ka)return this.La.push([a,b]),C;var c=(new a).D(this);return c.p.apply(c,b)};e.prototype.Fb=function(a,b){if(c.e(a))return t;if(T)return function(c){a(c,b)};var d=this._jsc,e=""+Math.floor(1E8*Math.random()),f=this.c("callback_fn")+"["+e+"]";d[e]=function(c){delete d[e];a(c,b)};return f};e.prototype.k=function(a,b,d,e){var f=i;if(La)return this.Ma.push(arguments),f;var g={method:this.c("api_method"),
vb:this.c("api_transport"),Hc:this.c("verbose")},j=t;if(!e&&(c.ib(d)||"string"===typeof d))e=d,d=t;d=c.extend(g,d||{});if(!T)d.method="GET";var g="POST"===d.method,p=ra&&g&&"sendbeacon"===d.vb.toLowerCase(),l=d.Hc;b.verbose&&(l=i);this.c("test")&&(b.test=1);l&&(b.verbose=1);this.c("img")&&(b.img=1);if(!T)if(e)b.callback=e;else if(l||this.c("test"))b.callback="(function(){})";b.ip=this.c("ip")?1:0;b._=(new Date).getTime().toString();g&&(j="data="+encodeURIComponent(b.data),delete b.data);var a=a+("?"+
c.yb(b)),n=this;if("img"in b)j=v.createElement("img"),j.src=a,v.body.appendChild(j);else if(p){try{f=ra(a,j)}catch(m){n.m(m),f=C}try{e&&e(f?1:0)}catch(q){n.m(q)}}else if(T)try{var o=new XMLHttpRequest;o.open(d.method,a,i);var s=this.c("xhr_headers");g&&(s["Content-Type"]="application/x-www-form-urlencoded");c.a(s,function(a,b){o.setRequestHeader(b,a)});if(d.Ac&&"undefined"!==typeof o.timeout){o.timeout=d.Ac;var w=(new Date).getTime()}o.withCredentials=i;o.onreadystatechange=function(){if(4===o.readyState)if(200===
o.status){if(e)if(l){var a;try{a=c.$(o.responseText)}catch(b){if(n.m(b),d.od)a=o.responseText;else return}e(a)}else e(Number(o.responseText))}else a=o.timeout&&!o.status&&(new Date).getTime()-w>=o.timeout?"timeout":"Bad HTTP status: "+o.status+" "+o.statusText,n.m(a),e&&(l?e({status:0,Da:o.status,error:a,pc:(o.responseHeaders||{})["Retry-After"]}):e(0))};o.send(j)}catch(x){n.m(x),f=C}else j=v.createElement("script"),j.type="text/javascript",j.async=i,j.defer=i,j.src=a,s=v.getElementsByTagName("script")[0],
s.parentNode.insertBefore(j,s);return f};e.prototype.Na=function(a){function b(a,b){c.a(a,function(a){if(c.isArray(a[0])){var d=b;c.a(a,function(a){d=d[a[0]].apply(d,a.slice(1))})}else this[a[0]].apply(this,a.slice(1))},b)}var d,e=[],f=[],g=[];c.a(a,function(a){a&&(d=a[0],c.isArray(d)?g.push(a):"function"===typeof a?a.call(this):c.isArray(a)&&"alias"===d?e.push(a):c.isArray(a)&&-1!==d.indexOf("track")&&"function"===typeof this[d]?g.push(a):f.push(a))},this);b(e,this);b(f,this);b(g,this)};e.prototype.Jb=
function(){return!!this.B.S};e.prototype.Vb=function(){var a="__mpq_"+this.c("token"),b=this.c("api_routes");return this.Ab=this.Ab||{S:{type:"events",M:"/"+b.track,la:a+"_ev"},mb:{type:"people",M:"/"+b.engage,la:a+"_pp"},eb:{type:"groups",M:"/"+b.groups,la:a+"_gr"}}};e.prototype.ud=function(){if(!this.Jb()){var a=c.bind(function(a){return new F(a.la,{I:this.config,R:this.c("error_reporter"),Rd:c.bind(function(b,c,e){this.k(this.c("api_host")+a.M,this.Cb(b),c,this.Fb(e,b))},this),ua:c.bind(function(b){return this.Hb("before_send_"+
a.type,b)},this),be:c.bind(this.rb,this),u:i})},this),b=this.Vb();this.B={S:a(b.S),mb:a(b.mb),eb:a(b.eb)}}this.c("batch_autostart")&&this.qb()};e.prototype.qb=function(){this.Ic=i;if(this.Jb())this.aa=i,c.a(this.B,function(a){a.start()})};e.prototype.rb=function(){this.aa=C;c.a(this.B,function(a){a.stop();a.clear()})};e.prototype.push=function(a){this.Na([a])};e.prototype.disable=function(a){"undefined"===typeof a?this.ba.ad=i:this.Ka=this.Ka.concat(a)};e.prototype.Cb=function(a){a=c.qa(a);"base64"===
this.c("api_payload_format")&&(a=c.Tc(a));return{data:a}};e.prototype.Sa=function(a,b){var d=c.truncate(a.data,255),e=a.M,f=a.Va,g=a.$d,j=a.Td||{},b=b||V,m=i,l=c.bind(function(){j.xc||(d=this.Hb("before_send_"+a.type,d));return d?(s.log("MIXPANEL REQUEST:"),s.log(d),this.k(e,this.Cb(d),j,this.Fb(b,d))):t},this);this.aa&&!g?f.$a(d).then(function(a){a?b(1,d):l()}):m=l();return m&&d};e.prototype.p=P(function(a,b,d,e){!e&&"function"===typeof d&&(e=d,d=t);var d=d||{},f=d.transport;if(f)d.vb=f;f=d.send_immediately;
"function"!==typeof e&&(e=V);if(c.e(a))this.m("No event name provided to mixpanel.track");else if(this.Db(a))e(0);else{b=c.extend({},b);b.token=this.c("token");var g=this.persistence.Ld(a);c.e(g)||(b.$duration=parseFloat((((new Date).getTime()-g)/1E3).toFixed(3)));this.Ib();g=this.c("track_marketing")?c.info.Fd():{};b=c.extend({},c.info.ja({mp_loader:this.c("mp_loader")}),g,this.persistence.ja(),this.Y,this.Wb(),b);g=this.c("property_blacklist");c.isArray(g)?c.a(g,function(a){delete b[a]}):this.m("Invalid value for property_blacklist config: "+
g);return this.Sa({type:"events",data:{event:a,properties:b},M:this.c("api_host")+"/"+this.c("api_routes").track,Va:this.B.S,$d:f,Td:d},e)}});e.prototype.Yd=P(function(a,b,d){c.isArray(b)||(b=[b]);var e={};e[a]=b;this.q(e);return this.people.set(a,b,d)});e.prototype.Oc=P(function(a,b,c){var e=this.w(a),f={};e===h?(f[a]=[b],this.q(f)):-1===e.indexOf(b)&&(e.push(b),f[a]=e,this.q(f));return this.people.pa(a,b,c)});e.prototype.Md=P(function(a,b,c){var e=this.w(a);if(e!==h){var f=e.indexOf(b);-1<f&&(e.splice(f,
1),this.q({ve:e}));0===e.length&&this.Z(a)}return this.people.remove(a,b,c)});e.prototype.me=P(function(a,b,d,e){var f=c.extend({},b||{});c.a(d,function(a,b){a!==t&&a!==h&&(f[b]=a)});return this.p(a,f,e)});e.prototype.Jc=function(a,b){return a+"_"+JSON.stringify(b)};e.prototype.ld=function(a,b){var c=this.Jc(a,b),e=this.Bb[c];if(e===h||e.Pa!==a||e.Oa!==b)e=new w,e.ea(this,a,b),this.Bb[c]=e;return e};e.prototype.ub=P(function(a,b){"object"!==typeof a&&(a={});var b=b||{},d=b.event_name||"$mp_web_page_view",
e=c.extend(c.info.Gd(),c.info.fa(),c.info.Mb()),e=c.extend({},e,a);return this.p(d,e)});e.prototype.le=function(){return this.Ra.call(this,R,arguments)};e.prototype.ke=function(){return this.Ra.call(this,ca,arguments)};e.prototype.fe=function(a){c.e(a)?this.m("No event name provided to mixpanel.time_event"):this.Db(a)||this.persistence.Xd(a)};var tb={persistent:i};e.prototype.q=function(a,b){var d=ta(b);d.persistent?this.persistence.q(a,d.days):c.extend(this.Y,a)};e.prototype.F=function(a,b,d){d=
ta(d);d.persistent?this.persistence.F(a,b,d.days):("undefined"===typeof b&&(b="None"),c.a(a,function(a,c){if(!this.Y.hasOwnProperty(c)||this.Y[c]===b)this.Y[c]=a},this))};e.prototype.Z=function(a,b){b=ta(b);b.persistent?this.persistence.Z(a):delete this.Y[a]};e.prototype.Gb=function(a,b){var c={};c[a]=b;this.q(c)};e.prototype.fb=function(a,b,c,e,f,g,j,m){var l=this.O();if(a&&l!==a){if("string"===typeof a&&0===a.indexOf("$device:"))return this.m("distinct_id cannot have $device: prefix"),-1;this.q({$user_id:a})}this.w("$device_id")||
this.F({$had_persisted_distinct_id:i,$device_id:l},"");a!==l&&a!==this.w("__alias")&&(this.Z("__alias"),this.q({distinct_id:a}));this.ba.Xb=i;this.people.Mc(b,c,e,f,g,j,m);a!==l&&this.p("$identify",{distinct_id:a,$anon_distinct_id:l},{xc:i})};e.prototype.reset=function(){this.persistence.clear();this.ba.Xb=C;var a=c.zb();this.F({distinct_id:"$device:"+a,$device_id:a},"")};e.prototype.O=function(){return this.w("distinct_id")};e.prototype.Pc=function(a,b){if(a===this.w("$people_distinct_id"))return this.m("Attempting to create alias for existing People user - aborting."),
-2;var d=this;c.e(b)&&(b=this.O());if(a!==b)return this.Gb("__alias",a),this.p("$create_alias",{alias:a,distinct_id:b},{xc:i},function(){d.fb(a)});this.m("alias matches current distinct_id - skipping api call.");this.fb(a);return-1};e.prototype.Hd=function(a){this.Gb("mp_name_tag",a)};e.prototype.tc=function(a){if(c.g(a))c.extend(this.config,a),a.batch_size&&c.a(this.B,function(a){a.oc()}),this.c("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.c("disable_persistence")||
(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.Fc(this.config),K=K||this.c("debug"),"autocapture"in a&&this.Ua&&this.Ua.D()};e.prototype.c=function(a){return this.config[a]};e.prototype.Hb=function(a){var b=(this.config.hooks[a]||ub).apply(this,Q.call(arguments,1));"undefined"===typeof b&&(this.m(a+" hook did not return a value"),b=t);return b};e.prototype.w=function(a){return this.persistence.Ha([a])};e.prototype.toString=function(){var a=this.c("name");
"mixpanel"!==a&&(a="mixpanel."+a);return a};e.prototype.Db=function(a){return c.ac(B)||this.ba.ad||c.gb(this.Ka,a)};e.prototype.Nc=function(){"localStorage"===this.c("opt_out_tracking_persistence_type")&&c.localStorage.Fa()&&(!this.Ca()&&this.Ca({persistence_type:"cookie"})&&this.dc({enable_persistence:C}),!this.ga()&&this.ga({persistence_type:"cookie"})&&this.lb({clear_persistence:C}),this.Lb({persistence_type:"cookie",enable_persistence:C}));if(this.ga())this.ra({clear_persistence:i});else if(!this.Ca()&&
(this.c("opt_out_tracking_by_default")||c.cookie.get("mp_optout")))c.cookie.remove("mp_optout"),this.lb({clear_persistence:this.c("opt_out_persistence_by_default")})};e.prototype.ra=function(a){if(a&&a.clear_persistence)a=i;else if(a&&a.enable_persistence)a=C;else return;!this.c("disable_persistence")&&this.persistence.disabled!==a&&this.persistence.uc(a);a?this.rb():this.Ic&&this.qb()};e.prototype.da=function(a,b){b=c.extend({track:c.bind(this.p,this),persistence_type:this.c("opt_out_tracking_persistence_type"),
cookie_prefix:this.c("opt_out_tracking_cookie_prefix"),cookie_expiration:this.c("cookie_expiration"),cross_site_cookie:this.c("cross_site_cookie"),cross_subdomain_cookie:this.c("cross_subdomain_cookie"),cookie_domain:this.c("cookie_domain"),secure_cookie:this.c("secure_cookie"),ignore_dnt:this.c("ignore_dnt")},b);c.localStorage.Fa()||(b.persistence_type="cookie");return a(this.c("token"),{p:b.track,he:b.track_event_name,ie:b.track_properties,ic:b.persistence_type,hc:b.cookie_prefix,Nb:b.cookie_domain,
Ob:b.cookie_expiration,$c:b.cross_site_cookie,Pb:b.cross_subdomain_cookie,Pd:b.secure_cookie,Yb:b.ignore_dnt})};e.prototype.dc=function(a){a=c.extend({enable_persistence:i},a);this.da(Fb,a);this.ra(a)};e.prototype.lb=function(a){a=c.extend({clear_persistence:i,delete_user:i},a);a.delete_user&&this.people&&this.people.Qa()&&(this.people.Sb(),this.people.Kb());this.da(Gb,a);this.ra(a)};e.prototype.Ca=function(a){return this.da(Hb,a)};e.prototype.ga=function(a){return this.da(cb,a)};e.prototype.Lb=function(a){a=
c.extend({enable_persistence:i},a);this.da(Jb,a);this.ra(a)};e.prototype.m=function(a,b){s.error.apply(s.error,arguments);try{!b&&!(a instanceof Error)&&(a=Error(a)),this.c("error_reporter")(a,b)}catch(c){s.error(c)}};e.prototype.init=e.prototype.D;e.prototype.reset=e.prototype.reset;e.prototype.disable=e.prototype.disable;e.prototype.time_event=e.prototype.fe;e.prototype.track=e.prototype.p;e.prototype.track_links=e.prototype.le;e.prototype.track_forms=e.prototype.ke;e.prototype.track_pageview=e.prototype.ub;
e.prototype.register=e.prototype.q;e.prototype.register_once=e.prototype.F;e.prototype.unregister=e.prototype.Z;e.prototype.identify=e.prototype.fb;e.prototype.alias=e.prototype.Pc;e.prototype.name_tag=e.prototype.Hd;e.prototype.set_config=e.prototype.tc;e.prototype.get_config=e.prototype.c;e.prototype.get_property=e.prototype.w;e.prototype.get_distinct_id=e.prototype.O;e.prototype.toString=e.prototype.toString;e.prototype.opt_out_tracking=e.prototype.lb;e.prototype.opt_in_tracking=e.prototype.dc;
e.prototype.has_opted_out_tracking=e.prototype.ga;e.prototype.has_opted_in_tracking=e.prototype.Ca;e.prototype.clear_opt_in_out_tracking=e.prototype.Lb;e.prototype.get_group=e.prototype.ld;e.prototype.set_group=e.prototype.Yd;e.prototype.add_group=e.prototype.Oc;e.prototype.remove_group=e.prototype.Md;e.prototype.track_with_groups=e.prototype.me;e.prototype.start_batch_senders=e.prototype.qb;e.prototype.stop_batch_senders=e.prototype.rb;e.prototype.start_session_recording=e.prototype.yc;e.prototype.stop_session_recording=
e.prototype.ce;e.prototype.get_session_recording_properties=e.prototype.Wb;e.prototype.get_session_replay_url=e.prototype.nd;e.prototype.DEFAULT_API_ROUTES=ob;o.prototype.properties=o.prototype.ja;o.prototype.update_search_keyword=o.prototype.Gc;o.prototype.update_referrer_info=o.prototype.wb;o.prototype.get_cross_subdomain=o.prototype.kd;o.prototype.clear=o.prototype.clear;var J={};(function(a){Ma=a;sa=1;x=m.mixpanel;c.e(x)?s.l('"mixpanel" object not initialized. Ensure you are using the latest version of the Mixpanel JS Library along with the snippet we provide.'):
x.__loaded||x.config&&x.persistence?s.l("The Mixpanel library has already been downloaded at least once. Ensure that the Mixpanel code snippet only appears once on the page (and is not double-loaded by a tag manager) in order to avoid errors."):1.1>(x.__SV||0)?s.l("Version mismatch; please ensure you're using the latest version of the Mixpanel code snippet."):(c.a(x._i,function(a){a&&c.isArray(a)&&(J[a[a.length-1]]=ba.apply(this,a))}),rb(),x.init(),c.a(J,function(a){a.ta()}),qb())})(function(a,b){var c=
document.createElement("script");c.type="text/javascript";c.async=i;c.onload=b;c.src=a;document.head.appendChild(c)})})();
})();
